import 'package:bioscout/rag%20helper/rag_helper.dart' show RAGChatBotHelper;
import 'package:bioscout/secrets.dart';
import 'package:flutter/material.dart';
import '../hive stuff/post_repository.dart';
import '../models/post_model.dart'; // adjust path as needed

class PostProvider with ChangeNotifier {
  final PostRepository repository;
  final List<PostModel> _posts = [];

  List<PostModel> get posts => _posts;

  PostProvider({required this.repository});

  void loadMockPosts() {
    _posts.clear();
    _posts.addAll([
      PostModel.mock(
        id: '1',
        imageUrl:
            'data:image/jpeg;base64,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',
        speciesName: 'Anthocerotophyta',
        aiSuggested: true,
        notes: 'Seen near Trail 3',
        userId: 'u123',
      ),
      PostModel.mock(
        id: '2',
        imageUrl:
            'https://hips.hearstapps.com/hmg-prod/images/dwarf-schefflera-or-dwarf-umbrella-tree-araliaceae-news-photo-1720628174.jpg?crop=1xw:1xh;center,top&resize=980:*',
        notes: 'Found something unique!',
        userId: 'u123',
      ),
    ]);
    notifyListeners();
  }

  Future<void> loadPosts() async {
    _posts.clear();
    _posts.addAll(await repository.getAllPosts());
    notifyListeners();
  }

  Future<void> addPost(PostModel post) async {
    await repository.addPost(post);
    _posts.add(post);

    final ragHelper = RAGChatBotHelper(geminiApi);
    await ragHelper.appendPostToDataset(post);

    notifyListeners();
  }

  void removePost(String id) {
    _posts.removeWhere((post) => post.id == id);
    notifyListeners();
  }

  void clearAll() {
    _posts.clear();
    notifyListeners();
  }
}
